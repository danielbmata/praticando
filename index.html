<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praticando</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aIkvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="meuEstilo.css">
</head>

<body>
    
    
    <div class="menu">
        <div class="bolinha-vermelha"></div>
        <div class="bolinha-amarela"></div>
        <div class="bolinha-verde"></div>
        <button id="dark-mode-toggle" class="switch">
            <span class="switch-icon">☾</span> <span class="switch-icon">☼</span>
        </button>
        
    </div>
    

    <div class="bate-papo">
        <div class="area-mensagens">
            <!-- Mensagens iniciais (opcional) -->
            <div class="mensagem outro-usuario">Olá!</div>
            <div class="mensagem usuario">Tudo bem?</div>
        </div>
        <div class="area-input">
            <input type="text" placeholder="Digite sua mensagem...">
            <button class="botao-enviar"></button>
        </div>
    </div>

    <div class="parte-direita"></div>
    <div class="parte-esquerda">
        <div class="perfil-usuario">
            <div class="avatar-container">
                <img src="https://fcb-abj-pre.s3.amazonaws.com/img/jugadors/603_neymar.jpg" alt="Avatar" class="avatar">
            </div>
            <div class="nome">Nome do Usuário</div>
            <div class="cidade">Cidade do Usuário</div>
            <div class="bio">Bio do usuário...</div>
            <button class="editar-perfil">
                <i class="fas fa-edit"></i> Editar
            </button>
        </div>
    </div>

    <script>
        // Seleciona elementos importantes
        const batePapo = document.querySelector('.bate-papo');
        const parteDireita = document.querySelector('.parte-direita');
        const parteEsquerda = document.querySelector('.parte-esquerda');
        const areaMensagens = document.querySelector('.area-mensagens');
        const inputMensagem = document.querySelector('.area-input input[type="text"]');
        const botaoEnviar = document.querySelector('.botao-enviar');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const body = document.body;


        // Event Listeners para as bolinhas do menu
        document.querySelector('.bolinha-verde').onclick = function () {
            parteDireita.classList.toggle('active');
            batePapo.classList.toggle('desfocado', parteDireita.classList.contains('active'));
        };

        document.querySelector('.bolinha-amarela').onclick = function () {
            parteEsquerda.classList.toggle('active');
            batePapo.classList.toggle('desfocado', parteEsquerda.classList.contains('active'));
        };

        document.querySelector('.bolinha-vermelha').onclick = function () {
            parteDireita.classList.remove('active');
            parteEsquerda.classList.remove('active');
            batePapo.classList.remove('desfocado');
        };


        // Funcionalidade de enviar mensagem
        botaoEnviar.onclick = function () {
            const mensagemTexto = inputMensagem.value;
            if (mensagemTexto.trim() !== "") {
                const novaMensagem = document.createElement('div');
                novaMensagem.classList.add('mensagem', 'usuario');
                novaMensagem.textContent = mensagemTexto; // Define o texto da mensagem
                areaMensagens.appendChild(novaMensagem);
                inputMensagem.value = ""; // Limpa o input
                areaMensagens.scrollTo({
                    top: areaMensagens.scrollHeight,
                    behavior: 'smooth'
                });
            }
        };

        inputMensagem.addEventListener('keyup', function (event) {
            if (event.key === 'Enter') {
                botaoEnviar.click();
            }
        });


        // Funcionalidade do Dark Mode
        darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            darkModeToggle.classList.toggle('dark-mode-ativo'); // Alterna a classe do botão também

            // Salva a preferência no localStorage
            localStorage.setItem('darkMode', body.classList.contains('dark-mode') ? 'enabled' : 'disabled');
        });

        // Verifica a preferência ao carregar a página
        if (localStorage.getItem('darkMode') === 'enabled') {
            body.classList.add('dark-mode');
            darkModeToggle.classList.add('dark-mode-ativo'); // Adiciona a classe ao botão também
        }
    </script>
</body>

</html>